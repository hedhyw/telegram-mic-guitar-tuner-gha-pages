(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(507)}])},4972:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return u}});var t=i(5893),a=i(5989),r=i(1542),s=i(6486),o=i.n(s),c=i(5241),d=i.n(c),l=i(4362);function u(e){let n,i,{notes:s,frequency:c}=e;if(!s)return(0,t.jsx)("div",{children:"Notes are not specified."});let u=o().minBy(s,e=>Math.abs(e.difference(c)))||s[0],h=-u.difference(c),_=60>Math.abs(h)&&c>30,f=(n=h/60,_?n>1&&(n=1):n=0,n*=360),m=(i="Pull any guitar string",_&&h>=2&&(i="Tune down"),_&&h<=-2&&(i="Tune up"),_&&2>Math.abs(h)&&(i="Good!"),i),v=_?u.name:(0,t.jsx)(l.Z,{fontSize:"inherit"}),x=(e,n)=>e.addEventListener("transitionend",n,!1);return(0,t.jsxs)("div",{className:d().indicator,children:[(0,t.jsxs)("div",{className:d().indicatorMain,children:[(0,t.jsx)("div",{className:d().indicatorArrowDown}),(0,t.jsx)("div",{className:d().indicatorCircle,style:{rotate:"".concat(f+-18,"deg")}}),(0,t.jsx)("div",{className:d().indicatorText,children:(0,t.jsx)(a.Z,{mode:"out-in",children:(0,t.jsx)(r.Z,{addEndListener:x,classNames:"fade",children:(0,t.jsx)("p",{className:_?"":d().noteUnknown,children:v})},v)})})]}),(0,t.jsx)("div",{className:d().indicatorHint,children:(0,t.jsx)(a.Z,{mode:"out-in",children:(0,t.jsx)(r.Z,{addEndListener:x,classNames:"fade",children:(0,t.jsx)("p",{children:m})},m)})})]})}},1883:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return u}});var t=i(5893),a=i(7294),r=i(4972),s=i(2173),o=i(1543),c=i(7315),d=i.n(c);class l{get name(){return this._name}difference(e){return this._frequency-e}constructor(e,n){this._frequency=n,this._name=e}}class u extends a.Component{render(){return(0,t.jsxs)("div",{children:[!this.state.permissionGranted&&(0,t.jsxs)("div",{className:d(),children:[(0,t.jsx)("p",{className:d().warningIcon,children:(0,t.jsx)(s.Z,{fontSize:"inherit"})}),(0,t.jsxs)("p",{className:d().warningText,children:["Unable to access the microphone.",(0,t.jsx)("br",{}),"Please try the application from another device or reload the page."]})]}),this.state.permissionGranted&&this.state.frequency!==1/0&&(0,t.jsx)(r.default,{frequency:this.state.frequency,notes:this._notes})]})}_setFrequency(e){this.setState({frequency:Math.round(e)})}_setPermissionDenied(){this.setState({permissionGranted:!1})}componentDidMount(){var e,n,i,t,a,r,s,o,c,d,l;let u={video:!1,audio:!0},h=e=>{this._setPermissionDenied(),console.error(e)};if(null===(n=navigator)||void 0===n?void 0:null===(e=n.mediaDevices)||void 0===e?void 0:e.getUserMedia){null===(d=navigator)||void 0===d||null===(c=d.mediaDevices)||void 0===c||c.getUserMedia(u).then(e=>{this._audioCallback(e)}).catch(h);return}navigator.getUserMedia=(null===(i=navigator)||void 0===i?void 0:i.getUserMedia)||(null===(t=navigator)||void 0===t?void 0:t.webkitGetUserMedia)||(null===(a=navigator)||void 0===a?void 0:a.mozGetUserMedia)||(null===(s=navigator)||void 0===s?void 0:null===(r=s.mediaDevices)||void 0===r?void 0:r.getUserMedia),(null===(o=navigator)||void 0===o?void 0:o.getUserMedia)?null===(l=navigator)||void 0===l||l.getUserMedia(u,e=>this._audioCallback(e),h):this._setPermissionDenied()}_audioCallback(e){let n=new AudioContext,i=n.createMediaStreamSource(e),t=n.createAnalyser();i.connect(t);let a=o.X.forFloat32Array(t.fftSize),r=new Float32Array(a.inputLength);this._play=()=>{t.getFloatTimeDomainData(r);let[e,i]=a.findPitch(r,n.sampleRate);i>.8&&this._setFrequency(e),console.debug(e,i),setTimeout(this._play,250)},this._play()}componentWillUnmount(){this._play=()=>{}}constructor(e){super(e),this.state={frequency:1/0,permissionGranted:!0},this._notes=[new l("e4",329.63),new l("B3",246.94),new l("G3",196),new l("D3",146.83),new l("A2",110),new l("E2",82.41)]}}},507:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return u}});var t=i(5893),a=i(3741),r=i.n(a),s=i(9008),o=i.n(s),c=i(2242),d=i.n(c),l=i(1883);function u(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o(),{children:[(0,t.jsx)("title",{children:"Mic Guitar Tuner"}),(0,t.jsx)("meta",{name:"description",content:"This is a guitar tuner that uses the microphone to determine the frequency of the sound and help you to correctly adjust each string."}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)("main",{className:"".concat(d().main," ").concat(r().className),children:(0,t.jsx)(l.default,{})})]})}},3741:function(e){e.exports={style:{fontFamily:"'__Roboto_b4911f', '__Roboto_Fallback_b4911f'",fontStyle:"normal"},className:"__className_b4911f"}},2242:function(e){e.exports={main:"Home_main__2uIek"}},5241:function(e){e.exports={indicator:"Indicator_indicator__d3oYs",indicatorMain:"Indicator_indicatorMain__5zS2_",indicatorCircle:"Indicator_indicatorCircle__fpe7A",indicatorArrowDown:"Indicator_indicatorArrowDown__Nj0zM",indicatorText:"Indicator_indicatorText__64Qsr",indicatorHint:"Indicator_indicatorHint__G51ug",noteUnknown:"Indicator_noteUnknown__g0uhc"}},7315:function(e){e.exports={warningText:"Tuner_warningText__2joCu",warningIcon:"Tuner_warningIcon__dEQTA"}},9008:function(e,n,i){e.exports=i(4605)}},function(e){e.O(0,[662,718,716,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);